# Base de conocimientos para respuestas concretas del chatbot Gridi
# Cada respuesta tiene múltiples variantes de pregunta asociadas (formales, informales, con errores y abreviaciones)
KNOWLEDGE_BASE = [
    # AgroGrid general
    ([
        "¿Qué es AgroGrid?",
        "Que es AgroGrid",
        "que es agrogrid",
        "Que es agrogrid?",
        "¿Para qué sirve AgroGrid?",
        "Para que sirve AgroGrid",
        "¿Puedes explicarme AgroGrid?",
        "Puedes explicarme AgroGrid",
        "agrogrid que es",
        "agro grid que es",
        "q es agrogrid",
        "agrgrid?",
        "me explicas agrogrid",
        "explicame agrogrid",
        "de que trata agrogrid",
        "para q sirve agrogrid",
        "que hace agrogrid",
        "agrogrid explicacion",
        "agrogrid info",
        "que onda con agrogrid",
        "agrogrid para que sirve",
        "q onda agrogrid"
    ],
    "AgroGrid es una plataforma digital que conecta agricultores, compradores y transportistas para facilitar la compra, venta y logística de productos agrícolas en Ecuador. Permite gestionar pedidos, pagos, envíos y comunicación entre los actores del sector agrícola de manera eficiente y segura."),

    # Servicios
    ([
        "¿Qué servicios ofrece AgroGrid?",
        "¿Qué funcionalidades tiene AgroGrid?",
        "¿Para qué puedo usar AgroGrid?",
        "servicios agrogrid",
        "funciones de agrogrid",
        "que puedo hacer en agrogrid",
        "agrogrid para que me sirve",
        "que cosas tiene agrogrid",
        "que herramientas tiene agrogrid",
        "que puedo usar en agrogrid",
        "agrogrid que ofrece",
        "que hay en agrogrid",
        "que funciones tiene agrogrid",
        "para que se usa agrogrid"
    ],
    "AgroGrid ofrece servicios de compra y venta de productos agrícolas, gestión de pedidos, paneles de control para agricultores y compradores, integración con transportistas, análisis de ventas y compras, y soporte a través del chatbot Gridi."),

    # Comprar
    ([
        "¿Cómo puedo comprar productos en AgroGrid?",
        "¿Cómo compro en AgroGrid?",
        "¿Cómo funciona la compra en AgroGrid?",
        "como comprar agrogrid",
        "quiero comprar en agrogrid",
        "comprar productos agrogrid",
        "como hago una compra en agrogrid",
        "agrogrid comprar",
        "como se compra en agrogrid",
        "me explicas como comprar en agrogrid",
        "como hago para comprar en agrogrid",
        "como puedo hacer compras en agrogrid",
        "compra agrogrid paso a paso",
        "agrogrid como comprar"
    ],
    "Debes registrarte como comprador, explorar el catálogo de productos, agregar productos al carrito y realizar tu pedido. Luego puedes hacer seguimiento a tus compras desde tu panel de control."),

    # Vender
    ([
        "¿Cómo puedo vender productos en AgroGrid?",
        "¿Cómo vendo en AgroGrid?",
        "¿Cómo funciona la venta en AgroGrid?",
        "como vender agrogrid",
        "quiero vender en agrogrid",
        "vender productos agrogrid",
        "como hago una venta en agrogrid",
        "agrogrid vender",
        "como se vende en agrogrid",
        "me explicas como vender en agrogrid",
        "como hago para vender en agrogrid",
        "como puedo hacer ventas en agrogrid",
        "venta agrogrid paso a paso",
        "agrogrid como vender"
    ],
    "Debes registrarte como agricultor, publicar tus productos y gestionar tus ventas desde el panel de agricultor. AgroGrid facilita la conexión con compradores y la logística de envío."),
    # Gridi
    ([
        "¿Qué es Gridi?",
        "¿Quién es Gridi?",
        "¿Para qué sirve Gridi?",
        "gridi agrogrid",
        "quien es el asistente agrogrid",
        "ayudante agrogrid",
        "para que es gridi",
        "que hace gridi"
    ],
    "Gridi es el asistente virtual de AgroGrid. Está diseñado para responder preguntas sobre el funcionamiento de la plataforma, ayudar en procesos de compra y venta, y brindar soporte a los usuarios."),
    # Paneles
    ([
        "¿Qué paneles existen en AgroGrid?",
        "¿Qué tipos de paneles tiene AgroGrid?",
        "¿Cuáles son los paneles de AgroGrid?",
        "paneles agrogrid",
        "que paneles tiene agrogrid",
        "panel agricultor agrogrid",
        "panel transportista agrogrid",
        "panel comprador agrogrid"
    ],
    "Existen paneles de control personalizados para agricultores, compradores y transportistas. Cada panel ofrece herramientas y estadísticas relevantes para su rol en la plataforma."),
    # Panel comprador
    ([
        "¿Cómo funciona el panel de compras del comprador?",
        "¿Qué tipos de paneles tiene AgroGrid?",
        "¿Cuáles son los paneles de AgroGrid?",
        "panel compras agrogrid",
        "que paneles tiene agrogrid",
        "panel agricultor agrogrid",
        "panel transportista agrogrid",
        "panel comprador agrogrid"
    ],
    "El panel de compras muestra el total de compras realizadas, los productos más comprados y estadísticas relevantes. Está integrado visualmente al dashboard y utiliza análisis de datos para mostrar información útil al comprador."),
    # Panel comprador
    ([
        "¿Cómo funciona el panel de compras del comprador?",
        "¿Qué muestra el panel de compras?",
        "¿Qué información veo en el panel de compras?",
        "panel compras agrogrid",
        "que veo en el panel de comprador",
        "panel de compras como funciona",
        "panel comprador agrogrid",
        "panel de usuario compras"
    ],
    "El panel de compras muestra el total de compras realizadas, los productos más comprados y estadísticas relevantes. Está integrado visualmente al dashboard y utiliza análisis de datos para mostrar información útil al comprador."),
    # Modelos IA
    ([
        "¿Qué modelos de IA usa AgroGrid?",
        "¿Qué inteligencia artificial tiene AgroGrid?",
        "¿Qué modelo usa el chatbot Gridi?",
        "que ia usa agrogrid",
        "modelo de inteligencia artificial agrogrid",
        "deepseek agrogrid",
        "que motor usa el chat de agrogrid",
        "agrogrid usa deepseek?"
    ],
    "AgroGrid utiliza modelos de lenguaje avanzados como DeepSeek para su chatbot Gridi, permitiendo respuestas en español y soporte inteligente. La integración actual es vía API segura, garantizando privacidad y eficiencia."),
    # Privacidad
    ([
        "¿Cómo se protege mi información en AgroGrid?",
        "¿Es segura mi información en AgroGrid?",
        "¿Qué medidas de privacidad tiene AgroGrid?",
        "mi info esta segura agrogrid",
        "agrogrid privacidad",
        "proteccion datos agrogrid",
        "agrogrid guarda mi info?",
        "es privado agrogrid?"
    ],
    "AgroGrid almacena datos sensibles de manera segura, utiliza autenticación y no expone información privada en las respuestas del chatbot ni en la interfaz pública."),
    # Soporte
    ([
        "¿Qué hago si tengo un problema con mi pedido?",
        "¿Cómo contacto soporte en AgroGrid?",
        "¿Qué hago si tengo un inconveniente en AgroGrid?",
        "ayuda agrogrid",
        "soporte agrogrid",
        "tengo un problema agrogrid",
        "como pido ayuda en agrogrid",
        "contactar soporte agrogrid"
    ],
    "Puedes contactar al soporte a través del chatbot Gridi o desde tu panel de usuario. También puedes calificar pedidos y transportistas desde tu panel."),
]

# Función para buscar respuesta exacta o similar (normalizada)
def buscar_respuesta_concreta(pregunta_usuario):
    pregunta_normalizada = pregunta_usuario.strip().lower()
    for variantes, respuesta in KNOWLEDGE_BASE:
        for variante in variantes:
            if pregunta_normalizada == variante.strip().lower():
                return respuesta
    return None
